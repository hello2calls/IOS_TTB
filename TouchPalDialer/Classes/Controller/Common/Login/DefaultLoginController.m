////  PersonalCenterLoginController.m//  TouchPalDialer////  Created by 袁超 on 15/2/13.////#import "DefaultLoginController.h"#import "TouchPalDialerAppDelegate.h"#import "UsageConst.h"@interface DefaultLoginController()@property (nonatomic, copy)void(^succesBlock)(void);@property (nonatomic, copy)void(^failedBlock)(void);@end@implementation DefaultLoginController+ (id)withOrigin:(NSString *)origin andLoginSuccessBlock:(void (^)(void))block {    return [[self alloc] initWithOrigin:origin andLoginSuccessBlock:block];}+ (id)withOrigin:(NSString *)origin andLoginSuccessBlock:(void(^)(void))block andLoginFailedBlock:(void(^)(void))failedBlock {    return [[self alloc] initWithOrigin:origin andLoginSuccessBlock:block andLoginFailedBlock:failedBlock];}+ (id)withOrigin:(NSString *)origin {    return [[self alloc] initWithOrigin:origin];}- (id)initWithOrigin:(NSString *)origin {    self = [super init];    self.origin = origin;    return self;}- (id)initWithOrigin:(NSString *)origin andLoginSuccessBlock:(void (^)(void))block {    self = [self initWithOrigin:origin];    self.succesBlock = block;    return self;}- (id)initWithOrigin:(NSString *)origin andLoginSuccessBlock:(void (^)(void))block    andLoginFailedBlock:(void(^)(void))failedBlock{    self = [self initWithOrigin:origin];    self.succesBlock = block;    self.failedBlock = failedBlock;    return self;}- (NSDictionary *)preInfo {    NSDictionary *dic =  @{@"origin": _origin};    return dic;}- (void)doSomeThingAfterLoginSuccess {    if (_succesBlock) {        _succesBlock();    }}- (void)doSomeThingAfterLoginFailed {    if (_failedBlock) {        _failedBlock();    }}- (LoginControllerType)getIdentifyController {    if ([_origin isEqual:@"personal_center_redbag"]) {        return PERSONAL_REDBAG;    }else if([_origin isEqualToString:@"personal_center_head"]){        return PERSONAL_CENTER_HEAD;    }else if ([_origin isEqualToString:CLICK_VS_REGISTER]) {        return  START_VS_GUDIE;    }else if([_origin isEqualToString:CLICK_COIN_REGISTER]){         return  START_COIN_GUDIE;    }else if([_origin isEqualToString:BEFORECALL_SHOW]){        return  BEFORECALL;    }else if([_origin isEqualToString:AFTERCALL_SHOW]){        return  AFTERCALL;    }else if([_origin isEqualToString:LONGCALL_SHOW]){        return  LONGCALL;    }                return DEFAULT_CONTROLLER;}- (void)jumpSomeWhereAfterLogin:(BOOL)animate {    [[TouchPalDialerAppDelegate naviController] popViewControllerAnimated:YES];}@end